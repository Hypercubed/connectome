
<div ng-controller="PanelCtrl as panels">

<!-- div snap-drawers>
  <div snap-drawer id="ui">
    <div ng-include="'components/ui/left-panel.html'"></div>
  </div>
</div -->

<div id="content">

  <noscript>Missing javascript</noscript>

  <div id="vis" context-menu="rightClick($event)" style=""
    data-target="myMenu"
    ng-class="{ 'highlight': panels.state.highlight, 'expanded': panels.state.contextmenu }">
    <svg></svg>

    <div class="dropdown position-fixed" id="myMenu">
      <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu2">

        <li ng-if="clickedItem" ng-click="clickedItem.fixed = true; updateSelection()" class="dropdown-header">{{clickedItem.name}}</li>

        <li  class="dropdown-submenu" ng-if="clickedItem.type == 'sample' || clickedItem.type == 'gene'">
          <a class="pointer" role="menuitem" ng-click="clickedItem.ticked = false">Hide</a>
        </li>

        <li class="dropdown-submenu" ng-if="clickedItem.type == 'sample' || clickedItem.type == 'gene'">
          <a class="pointer" role="menuitem">Show</a>
          <ul class="dropdown-menu">
            <li><a class="pointer" role="menuitem" ng-click="showOutNeighbors(clickedItem)">All out neighbors</a></li>
            <li><a class="pointer" role="menuitem" ng-click="showInNeighbors(clickedItem)">All in neighbors</a></li>
            <li><a class="pointer" role="menuitem" ng-click="showOutNeighbors(clickedItem,10)">Top out neighbors</a></li>
            <li><a class="pointer" role="menuitem" ng-click="showInNeighbors(clickedItem,10)">Top in neighbors</a></li>
          </ul>
        </li>

        <!-- state.name == 'home.force-graph' -->

        <li class="divider" ng-if="clickedItem.type == 'sample' || clickedItem.type == 'gene'"></li>

        <li ng-click="state"><a class="pointer" ng-click="reset()">Reset visualization</a></li>

        <li class="dropdown-submenu">
          <a class="pointer" role="menuitem">Panels</a>
          <ul class="dropdown-menu">
            <li>
              <a class="pointer" role="menuitem" ng-click="panels.state.snapper = !panels.state.snapper">
                <span ng-bind="panels.state.snapper ? '&#x2713;' : '&nbsp;'"></span> Options panel
              </a>
            </li>
            <li>
              <a class="pointer" role="menuitem" ng-click="panels.state.info = !panels.state.info">
                <span ng-bind="panels.state.info ? '&#x2713;' : '&nbsp;'"></span> Info panel
              </a>
            </li>
          </ul>
        </li>

      </ul>
    </div>

  </div>

</div>

<!-- div class="panel-right col-xs-3">

  <div class="col-xs-10 animate-fade pull-right" ng-if="panelState.info">
    <div class="new-tip bg-info" ng-cloak ng-show="graphData.nodes.length > 0">
      <ul class="list-unstyled">
        <li>Samples: <span ng-bind="selectedIds.cells.length"></span> / <span bindonce="data.cells" bo-text="data.cells.length"></span></li>
        <li>Genes:   <span ng-bind="selectedIds.genes.length"></span> / <span bindonce="data.genes" bo-text="data.genes.length"></span></li>
        <li>Pairs:   <span ng-bind="selectedIds.pairs.length"></span> / <span bindonce="data.pairs" bo-text="data.pairs.length"></span></li>
      </ul>
      <ul class="list-unstyled">

        <li>Nodes: <span ng-bind="graphData._nodes.length"></span> / <span ng-bind="graphData.nodes.length"></span></li>
        <li>Edges: <span ng-bind="graphData._edges.length"></span> / <span ng-bind="graphData.edges.length"></span></li>

      </ul>
    </div>

    <div growl></div>

    <div ng-repeat="item in graphData.selectedItems track by item.name" class="new-tip" ng-if="item.type" ng-class="item.hover ? 'bg-info' : 'bg-danger'">
      <button type="button" class="close" aria-hidden="true" ng-click="revoveSelectedItem($index)">&times;</button>
      <div ng-include="'components/ui/item.html'">
      </div>
    </div>
  </div>

  <div pageslide="right" ps-open="panels.state.info" style="background: #eee;">
    <div>
        <p>some random content...</p>
    </div>
  </div>

</div -->

  <div class="pageslide pageslide-left" ng-show="panels.state.snapper">
    <div id="ui" ng-if="panels.state.snapper" ng-include="'components/ui/left-panel.html'">
    </div>
  </div>

  <div class="pageslide pageslide-right" ng-show="panels.state.info" >

    <div class="" ng-if="panels.state.info">
      <div class="new-tip" ng-cloak ng-show="graphData.nodes.length > 0">
        <ul class="list-unstyled" bindonce="data">
          <li>Samples: <span ng-bind="selectedIds.cells.length"></span> / <span bo-text="data.cells.length"></span></li>
          <li>Genes:   <span ng-bind="selectedIds.genes.length"></span> / <span bo-text="data.genes.length"></span></li>
          <li>Pairs:   <span ng-bind="selectedIds.pairs.length"></span> / <span bo-text="data.pairs.length"></span></li>
        </ul>
        <ul class="list-unstyled" bindonce="graphData">
          <li>Nodes: <span bo-text="graphData._nodes.length"></span> / <span bo-text="graphData.nodes.length"></span></li>
          <li>Edges: <span bo-text="graphData._edges.length"></span> / <span bo-text="graphData.edges.length"></span></li>
        </ul>
      </div>

      <div growl></div>

      <div ng-repeat="item in graphData.selectedItems track by item.id" class="new-tip" ng-class="item.hover ? 'bg-warning' : 'bg-danger'" ng-if="item.type">
        <button type="button" class="close" aria-hidden="true" ng-click="revoveSelectedItem($index)">&times;</button>
        <div ng-include="'components/ui/item.html'">
        </div>
      </div>
    </div>

  </div>

  <div class="pageslide-toggle left">
    <button type="button" ng-click="panelState.snapper = !panelState.snapper" class="navbar-toggle pull-right" title="Click to show options" style="display: inline-block;">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
  </div>

  <div class="pageslide-toggle right">
    <button type="button" ng-click="panelState.info = !panelState.info" class="navbar-toggle pull-right" title="Click to show options" style="display: inline-block;">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
  </div>

  <div class="pageslide pageslide-bottom" ng-show="panelState.data">
    <ul class="nav nav-tabs" role="tablist">
      <li ng-class="{ active: panelState.tab == 1 }"><a href ng-click="panelState.data = true; panelState.tab = 1">Samples</a></li>
      <li ng-class="{ active: panelState.tab == 2 }"><a href ng-click="panelState.data = true; panelState.tab = 2">Genes</a></li>
      <li ng-class="{ active: panelState.tab == 3 }"><a href ng-click="panelState.data = true; panelState.tab = 3">Pairs</a></li>
      <li class="pull-right">
        <button type="button" ng-click="panelState.data = !panelState.data" class="navbar-toggle pull-right" title="Click to show options" style="display: inline-block;">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </li>
    </ul>

    <div class="tab-content" ng-switch="panelState.tab" ng-if="panelState.data">
        <div class="tab-pane active" ng-switch-when="1">
          <div class="gridStyle" ng-grid="gridOptions.cells"></div>
        </div>
        <div class="tab-pane active" ng-switch-when="2">
          <div class="gridStyle" ng-grid="gridOptions.genes"></div>
        </div>
        <div class="tab-pane active" ng-switch-when="3">
          <div class="gridStyle" ng-grid="gridOptions.pairs"></div>
        </div>
      </div>
    </div>

  </div>

</div>
